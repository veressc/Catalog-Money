{% extends 'base.html' %}

{% block content %}
<h3>–¢–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: {{ category.name }}</h3>

<!-- üîé –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä -->
<form method="get" class="mb-4">
  <div class="row g-3">
    <div class="col">
      <input type="text" name="search" value="{{ search or '' }}" class="form-control" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é">
    </div>
    <div class="col">
      <input type="number" step="0.01" name="price_min" value="{{ price_min or '' }}" class="form-control" placeholder="–¶–µ–Ω–∞ –æ—Ç">
    </div>
    <div class="col">
      <input type="number" step="0.01" name="price_max" value="{{ price_max or '' }}" class="form-control" placeholder="–¶–µ–Ω–∞ –¥–æ">
    </div>
    <div class="col">
      <select name="sort" class="form-select">
        <option value="name" {{ 'selected' if sort_by == 'name' else '' }}>–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
        <option value="price" {{ 'selected' if sort_by == 'price' else '' }}>–ü–æ —Ü–µ–Ω–µ</option>
      </select>
    </div>
    <div class="col">
      <button class="btn btn-primary" type="submit">üîç –ù–∞–π—Ç–∏</button>
    </div>
  </div>
</form>

<!-- üì¶ –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ -->
<ul class="list-group">
  {% for product in products %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <div>
        <a href="{{ url_for('main.product_detail', product_id=product.id) }}">
          <strong>{{ product.name }}</strong>
        </a><br>
        <small class="text-muted">{{ product.description }}</small>
      </div>
      <span class="badge bg-success fs-6">{{ product.price }} ‚ÇΩ</span>
    </li>
  {% else %}
    <li class="list-group-item text-center">
      –ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º üòï
    </li>
  {% endfor %}
</ul>
{% endblock %}
